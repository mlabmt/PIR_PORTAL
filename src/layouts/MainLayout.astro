---
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

const { title = "PIR | Portal Informacji Regulacyjnych" } = Astro.props;
---

<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{title}</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style is:global>
        :root { 
            --dark: #1e293b; 
            --accent: #e63946; 
            --header-bg: #f8fafc;
            --news-odd: #475569;
            --news-even: #334155;
            --white: #ffffff;
            --max-ui-width: 1400px;
        }

        * { box-sizing: border-box; }
        html, body { 
            height: 100%; 
            margin: 0; 
            font-family: 'Inter', sans-serif;
            background: #334155;
        }

        body { display: flex; flex-direction: column; min-height: 100vh; }

        /* --- NAGŁÓWEK --- */
        header { 
            background: var(--header-bg); 
            border-bottom: 1px solid #cbd5e1; 
            height: 70px;
            position: sticky;
            top: 0;
            z-index: 2000;
        }

        .nav-container { 
            width: 100%;
            max-width: var(--max-ui-width);
            height: 100%;
            margin: 0 auto; 
            padding: 0 20px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
        }

        .logo { font-weight: 800; font-size: 24px; color: var(--dark); text-decoration: none; z-index: 2100; }
        .logo span { color: var(--accent); }

        nav { display: flex; }
        nav a { 
            text-decoration: none; 
            color: var(--dark); 
            font-weight: 600; 
            font-size: 13px; 
            text-transform: uppercase; 
            margin-left: 20px; 
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            z-index: 2100;
            color: var(--dark);
        }

        /* --- TYTUŁY SEKCJI --- */
        .section-title {
            background: #b1bccd;
            color: var(--dark);
            padding: 10px 20px;
            font-weight: 800;
            font-size: 11px;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            text-align: center;
            border-bottom: 1px solid #94a3b8;
        }

        /* --- LISTA NEWSÓW --- */
        .hero {
            flex-grow: 1; 
            background: #334155;
        }

        .chat-news-item {
            width: 100%;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex;
            justify-content: center;
        }

        .chat-news-item:nth-child(odd) { background: var(--news-odd); }
        .chat-news-item:nth-child(even) { background: var(--news-even); }
        
        .news-wrapper {
            width: 100%;
            max-width: var(--max-ui-width);
            padding: 15px 20px;
            display: grid;
            grid-template-columns: 120px 1fr 100px;
            align-items: center;
            gap: 20px;
            color: var(--white);
        }

        .chat-timestamp { font-size: 11px; opacity: 0.6; font-weight: 600; }
        .news-main h1 { font-size: 17px; margin: 0 0 4px 0; font-weight: 700; color: #fff; line-height: 1.3; }
        .news-main p { font-size: 13px; margin: 0; opacity: 0.8; line-height: 1.5; }
        .tag { color: #fca5a5; font-size: 10px; font-weight: 800; text-transform: uppercase; margin-bottom: 4px; display: block; }

        .btn-news { 
            background: var(--accent); 
            color: white; 
            padding: 8px 12px; 
            border-radius: 4px; 
            font-weight: 800; 
            text-decoration: none; 
            font-size: 11px; 
            text-align: center;
        }
        /* --- STOPKA I NEWSLETTER --- */
        .bottom-bar { background: white; border-top: 1px solid #cbd5e1; }
        .newsletter { 
            padding: 20px 20px; 
            max-width: var(--max-ui-width);
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
        }
        .newsletter-text h2 { margin: 0; font-size: 16px; color: var(--dark); font-weight: 800; }
        .newsletter p { margin: 2px 0 0 0; font-size: 12px; color: #64748b; }
        .n-form { display: flex; gap: 8px; }
        .n-form input { padding: 10px; width: 220px; border: 1px solid #cbd5e1; border-radius: 4px; font-size: 13px; }
        .btn-sub { background: var(--dark); color: white; border: none; padding: 10px 15px; border-radius: 4px; font-weight: 800; cursor: pointer; font-size: 13px; }

        footer { 
            padding: 15px 20px; 
            background: #f1f5f9;
            border-top: 1px solid #e2e8f0;
            font-size: 11px;
            color: #64748b;
        }
        .footer-content { max-width: var(--max-ui-width); margin: 0 auto; display: flex; justify-content: space-between; }

        /* --- MOBILE QUERIES --- */
        @media (max-width: 768px) {
            .menu-toggle { display: block; }
            nav {
                position: fixed; top: 70px; left: -100%;
                flex-direction: column; background: var(--white);
                width: 100%; height: calc(100vh - 70px);
                padding: 40px 20px; transition: 0.3s; z-index: 1999;
            }
            nav.active { left: 0; }
            nav a { margin: 0 0 25px 0; font-size: 18px; }

            .news-wrapper { 
                display: block; 
                padding: 15px; 
            }

            .chat-timestamp { display: inline; margin-right: 5px; }
            .chat-timestamp::after { content: " • "; opacity: 0.4; margin-left: 5px; }

            .news-main { display: inline; }
            .tag { display: inline; margin-bottom: 0; }
            .news-main p { display: none; }
            
            .news-main h1 { 
                display: block; 
                font-size: 15px; 
                margin-top: 8px; 
                line-height: 1.4;
            }

            .btn-news { width: 100%; display: block; margin-top: 12px; padding: 12px; }

            .newsletter { flex-direction: column; text-align: center; }
            .n-form { width: 100%; flex-direction: column; }
            .n-form input { width: 100%; }
            .btn-sub { width: 100%; }
            .footer-content { flex-direction: column; text-align: center; gap: 5px; }
            body.no-scroll { overflow: hidden; }
        }
    </style>
</head>
<body>
    <Navigation />
    <slot />
    <Footer />
</body>
</html>